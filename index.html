<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Caderno de Par√¢metros</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>

<!-- ================= INTRO ================= -->
<div id="intro-screen">
  <div class="intro-box">
    <h1 id="intro-text"></h1>
    <div class="intro-actions">
      <button onclick="selecionarModo('voz')">üìû Atendimento por Voz</button>
      <button onclick="selecionarModo('chat')">üí¨ Atendimento por Chat</button>
      <button onclick="selecionarModo('ambos')">üìû + üí¨ Voz + Chat</button>
    </div>
  </div>
</div>

<!-- ================= HEADER ================= -->
<header class="app-header">
  <img src="./assets/image.png" class="app-logo" />
  <h1 class="app-title">Caderno de Par√¢metros</h1>
  <button class="btn-voltar-intro" onclick="resetarIntro()">‚¨Ö Voltar ao in√≠cio</button>
  <button id="toggleTheme" class="theme-toggle">üåô</button>
</header>

<!-- ================= CONTE√öDO ================= -->
<main id="app-content" class="form-container" style="display:none">

  <!-- bot√£o flutuante de d√∫vidas -->
  <button class="btn-duvidas" onclick="toggleDuvidas()">
    D√∫vidas no preenchimento?
  </button>

  <!-- painel lateral -->
  <div id="painelDuvidas" class="painel-duvidas" hidden>
    <select id="selectDuvida">
      <option value="">Selecione o assunto</option>
      <option value="cliente">Dados do Cliente</option>
      <option value="usuarios">Usu√°rios Web</option>
      <option value="ramais">Ramais</option>
      <option value="agentes">Agentes</option>
      <option value="ura">URA</option>
      <option value="chat">Chat / Omnichannel</option>
    </select>

    <div id="conteudoDuvida"></div>
  </div>
  
  <!-- ================= DADOS DO CLIENTE ================= -->
  <section class="card">
  <h2>Dados do Cliente</h2>

  <div class="campo-descricao campo-cliente">

    <div class="bloco-campo">
      <label>Nome da empresa / cliente</label>
      <input id="empresaCliente" placeholder="Ex: ERA Telecom">
    </div>

    <div class="bloco-campo">
      <label>Dom√≠nio do cliente</label>
      <input id="dominioCliente" placeholder="ex: suporteera.sobreip.com.br">
      <div id="regraDominio"></div>
    </div>

    <div class="bloco-campo">
      <label>CNPJ</label>
      <input id="cnpjCliente" placeholder="00.000.000/0000-00">
      <div id="regraCNPJ"></div>
    </div>

  </div> 

</section>

<section id="voz-area" style="display:none">
  <!-- ================= USU√ÅRIOS WEB ================= -->
  <section class="card">
    <h2>Usu√°rios Web</h2>
    <div class="acoes-card">
      <button class="btn-add" onclick="adicionarCampo('usuario_web')">+</button>
      <button class="btn-import" onclick="acionarImportacao('usuario_web')">üì• Importar</button>
      <button class="btn-import" onclick="baixarTemplateUsuarios()">üì• Baixar template CSV</button>
      <input type="file" id="importUsuarios" accept=".csv" hidden>
    </div>
    <div id="listaUsuariosWeb"></div>
  </section>

  <!-- ================= REGRAS DE TEMPO ================= -->
  <section class="card">
    <h2>Regras de Tempo (Hor√°rio de Funcionamento)</h2>
    <div class="acoes-card">
      <button class="btn-add" onclick="adicionarRegraTempo()">+ Nova regra</button>
    </div>
    <div id="listaRegrasTempo"></div>
  </section>

  <!-- ================= RAMAIS ================= -->
  <section class="card">
  <h2>Ramais (Range)</h2>

  <div class="acoes-card">
    <input id="ramalInicio" type="number" placeholder="Ramal inicial">
    <input id="ramalFim" type="number" placeholder="Ramal final">
    <button class="btn-add" onclick="criarRangeRamais()">Criar range</button>
  </div>

  <div class="acoes-card">
    <button class="btn-add" onclick="adicionarCampo('ring')">+</button>

    <button class="btn-import" onclick="acionarImportacao('ring')">
      üì• Importar
    </button>

    <button class="btn-import" onclick="baixarTemplateRamais()">
      üì• Baixar template CSV
    </button>

    <input type="file" id="importRamais" accept=".csv" hidden>
  </div>

  <div id="listaRings"></div>
</section>

  <!-- ================= ENTRADAS ================= -->
  <section class="card">
    <h2>N√∫meros de Entrada</h2>
    <div id="listaEntradas"></div>
    <button class="btn-add" onclick="adicionarCampo('entrada')">+</button>
  </section>

  <!-- ================= URAs ================= -->
  <section class="card">
    <h2>URAs</h2>
    <div id="listaURAs"></div>
    <button class="btn-add" onclick="adicionarCampo('ura')">+</button>
  </section>
  
<!-- ================= PESQUISA DE SATISFA√á√ÉO ================= -->
<section class="card">
  <h2>Pesquisa de Satisfa√ß√£o</h2>

  <div class="acoes-card">
    <button class="btn-add" onclick="togglePesquisaSatisfacao()">+</button>
  </div>

  <div id="pesquisaSatisfacaoConteudo" style="display:none;">

    <div class="campo-descricao">

      <div class="bloco-campo">
        <label>Nome da Pesquisa</label>
        <input id="pesquisaNome" placeholder="Ex: Pesquisa de Satisfa√ß√£o ‚Äì Atendimento">
      </div>

      <div class="bloco-campo">
        <label>√Åudio de Introdu√ß√£o (texto)</label>
        <textarea id="pesquisaAudioIntro" rows="3"
          placeholder="Ol√°, seja bem-vindo √† pesquisa de satisfa√ß√£o da {nome da empresa}. Por gentileza, avalie o atendimento recebido selecionando uma das notas abaixo."></textarea>
      </div>

      <div class="bloco-campo">
        <label>Pergunta da Pesquisa</label>
        <input id="pesquisaPergunta"
          placeholder="De 0 a 10, o quanto voc√™ ficou satisfeito com o atendimento recebido?">
      </div>

    </div>

    <h3 style="margin-top:20px;">Respostas da Pesquisa</h3>
    <div id="listaRespostasPesquisa"></div>

    <button class="btn-add" onclick="adicionarRespostaPesquisa()">+ Adicionar nota</button>

    <div class="campo-descricao" style="margin-top:20px;">
      <div class="bloco-campo">
        <label>√Åudio de Agradecimento (texto)</label>
        <textarea id="pesquisaAudioFim" rows="3"
          placeholder="Agradecemos por avaliar o nosso atendimento. Sua opini√£o √© muito importante para continuarmos melhorando."></textarea>
      </div>
    </div>

  </div>
</section>
  
  <!-- ================= FILAS ================= -->
  <section class="card">
    <h2>Filas</h2>
    <div id="listaFilas"></div>
    <button class="btn-add" onclick="adicionarCampo('fila')">+</button>
  </section>

  <!-- ================= GRUPO DE RING ================= -->
  <section class="card">
    <h2>Grupo de Ring</h2>
    <div id="listaGrupoRing"></div>
    <button class="btn-add" onclick="adicionarCampo('grupo_ring')">+</button>
  </section>

  <!-- ================= AGENTES ================= -->
  <section class="card">
    <h2>Agentes</h2>
    <div id="listaAgentes"></div>
    <button class="btn-add" onclick="adicionarCampo('agente')">
      üîÑ Atualizar agentes a partir dos usu√°rios
    </button>
  </section>
  
<!-- ================= PAUSAS DO CALL CENTER ================= -->
  <section class="card">
    <h2>Pausas do Call Center</h2>
    <p style="opacity:.7;margin-top:-6px;">
      Crie os motivos de pausa que poder√£o ser utilizados nas filas de Call Center.
    </p>
  
    <div class="acoes-card">
      <button class="btn-add" onclick="togglePausas()">+</button>
    </div>
  
    <div id="pausasConteudo" style="display:none;">
  
      <div class="campo-descricao">
        <div class="bloco-campo">
          <label>Nome do Grupo de Pausas</label>
          <input id="nomeGrupoPausas" placeholder="Ex: Pausas Operacionais">
        </div>
      </div>
  
      <h3 style="margin-top:20px;">Pausas</h3>
      <div id="listaPausas"></div>
  
      <button class="btn-add" onclick="adicionarPausa()">+ Adicionar pausa</button>
  
    </div>
  </section>
  
  <!-- ================= CHAT ================= -->
  <section id="chat-area" style="display:none">

    <!-- üîπ ENTIDADES DO CHAT (PADR√ÉO PABX) -->
    <section id="modulochat" style="display:none;">

      <!-- 1Ô∏è‚É£ USU√ÅRIOS -->
     <section class="card">
  <h2>Usu√°rios Omnichannel</h2>

  <div class="acoes-card">
    <button class="btn-add" onclick="adicionarUsuarioChat()">+</button>

    <button class="btn-import" onclick="acionarImportacaoUsuariosChat()">
      üì• Importar
    </button>

    <button class="btn-import" onclick="baixarTemplateUsuariosChat()">
      üì• Baixar template CSV
    </button>

    <input type="file" id="importUsuariosChat" accept=".csv" hidden>
  </div>

  <div id="listaUsuariosChat"></div>
</section>

    
      <!-- 2Ô∏è‚É£ AGENTES -->
      <section class="card">
        <h2>Agentes Omnichannel</h2>
        <div id="listaAgentesChat"></div>
        <button onclick="adicionarAgenteChat()" class="btn-add">
          + Adicionar agente chat
        </button>
      </section>
    
      <!-- 3Ô∏è‚É£ DEPARTAMENTOS -->
      <section class="card">
        <h2>Departamentos (Chat)</h2>
        <div id="listaDepartamentosChat"></div>
        <button onclick="adicionarDepartamentoChat()" class="btn-add">
          + Adicionar departamento
        </button>
      </section>
    
    </section>


    <!-- üîπ CONFIGURA√á√ÉO T√âCNICA DO CHAT -->
    <section class="card">
      <h2>Configura√ß√£o de Chat</h2>

      <!-- TIPO -->
      <div class="chat-section">
        <h3>Tipo de Integra√ß√£o</h3>
        <div class="chat-grid">
          <div class="chat-card tipo" onclick="selecionarTipoChat(this, 'api')">
            <img src="./assets/APIS.png">
            <h4>API Oficial</h4>
          </div>
          <div class="chat-card tipo" onclick="selecionarTipoChat(this, 'qr')">
            <img src="./assets/qrcode.png">
            <h4>QR Code</h4>
          </div>
        </div>
      </div>

      <!-- API -->
      <div id="api-oficial" class="chat-section" style="display:none">
        <h3>Fornecedor Oficial</h3>
        <div class="chat-grid">
          <div class="chat-card" onclick="selecionarApi(this,'meta')">
            <img src="./assets/Meta.png"><h4>Meta</h4>
          </div>
          <div class="chat-card" onclick="selecionarApi(this,'360')">
            <img src="./assets/360.png"><h4>360 Dialog</h4>
          </div>
          <div class="chat-card" onclick="selecionarApi(this,'gupshup')">
            <img src="./assets/gupshup.png"><h4>Gupshup</h4>
          </div>
        </div>
      </div>

      <!-- CONTA -->
      <div id="bloco-conta-api" class="chat-section" style="display:none;">
        <h3>Essa API ser√° criada em qual conta?</h3>
        <div class="chat-grid">
          <div class="chat-card" onclick="selecionarConta(this,'cliente')">
            <h4>Conta do cliente</h4>
            <p style="opacity:.6;font-size:13px;">Business Manager do cliente</p>
          </div>
          <div class="chat-card" onclick="selecionarConta(this,'era')">
            <h4>Conta da ERA</h4>
            <p style="opacity:.6;font-size:13px;">Business Manager da ERA</p>
          </div>
        </div>
      </div>

      <!-- CANAIS -->
      <div id="chat-canais" class="chat-section" style="display:none">
        <h3>Canais Integrados</h3>
        <div class="chat-grid">
          <div class="chat-card" data-canal="whatsapp" onclick="toggleCanal(this)">
            <img src="./assets/whats.png"><h4>WhatsApp</h4>
          </div>
          <div class="chat-card" data-canal="instagram" onclick="toggleCanal(this)">
            <img src="./assets/instagram.png"><h4>Instagram</h4>
          </div>
          <div class="chat-card" data-canal="messenger" onclick="toggleCanal(this)">
            <img src="./assets/messenger.png"><h4>Messenger</h4>
          </div>
          <div class="chat-card" data-canal="telegram" onclick="toggleCanal(this)">
            <img src="./assets/telegram.png"><h4>Telegram</h4>
          </div>
          <div class="chat-card" data-canal="email" onclick="toggleCanal(this)">
            <img src="./assets/email.png"><h4>E-mail</h4>
          </div>
        </div>
      </div>

      <!-- QR -->
      <div id="chat-qr" class="chat-section" style="display:none">
        <h3>N√∫mero do WhatsApp</h3>
        <input class="chat-input" placeholder="Ex: 5511999999999">
      </div>

    </section>
  </section>

  <!-- ================= RESULTADO JSON ================= -->
<section class="card">
  <h2>Se as configura√ß√µes estiverem corretas, selecione o bot√£o abaixo</h2>
  <div class="acoes-card">
    <button class="btn-explorar" onclick="salvarConfiguracao()">
      Salvar configura√ß√£o
    </button>
  </div>
  <pre id="resultado"
       style="max-height:500px;overflow:auto;background:#00000010;padding:16px;border-radius:12px;"></pre>
</section>

</main>

<!-- ================= TOAST ================= -->
<div id="toastGlobal" class="toast">
  <span id="toastMessage"></span>
</div>

<script src="./app.js"></script>
<script src="./intro.js"></script>
<script src="./chat.js"></script>

</body>
</html>


















