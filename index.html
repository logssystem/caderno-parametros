<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Caderno de ParÃ¢metros</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>

<!-- ================= INTRO ================= -->
<div id="intro-screen">
  <div class="intro-box">
    <h1 id="intro-text"></h1>
    <div class="intro-actions">
      <button onclick="selecionarModo('voz')">ðŸ“ž Atendimento por Voz</button>
      <button onclick="selecionarModo('chat')">ðŸ’¬ Atendimento por Chat</button>
      <button onclick="selecionarModo('ambos')">ðŸ“ž + ðŸ’¬ Voz + Chat</button>
    </div>
  </div>
</div>

<!-- ================= HEADER ================= -->
<header class="app-header">
  <img src="./assets/image.png" class="app-logo" />
  <h1 class="app-title">Caderno de ParÃ¢metros</h1>
  <button class="btn-voltar-intro" onclick="resetarIntro()">â¬… Voltar ao inÃ­cio</button>
  <button id="toggleTheme" class="theme-toggle">ðŸŒ™</button>
</header>

<!-- ================= CONTEÃšDO ================= -->
<main id="app-content" class="form-container" style="display:none">

  <button class="btn-duvidas" onclick="toggleDuvidas()">
    DÃºvidas no preenchimento?
  </button>

  <div id="painelDuvidas" class="painel-duvidas" hidden>
    <select id="selectDuvida">
      <option value="">Selecione o assunto</option>
      <option value="cliente">Dados do Cliente</option>
      <option value="usuarios">UsuÃ¡rios Web</option>
      <option value="ramais">Ramais</option>
      <option value="agentes">Agentes</option>
      <option value="ura">URA</option>
      <option value="chat">Chat / Omnichannel</option>
    </select>
    <div id="conteudoDuvida"></div>
  </div>

  <!-- ================= CLIENTE ================= -->
  <section class="card">
    <h2>Dados do Cliente</h2>
    <div class="campo-descricao campo-cliente">

      <div class="bloco-campo">
        <label>Nome da empresa / cliente</label>
        <input id="empresaCliente" placeholder="Ex: ERA Telecom, ClÃ­nica SÃ£o JosÃ©">
      </div>

      <div class="bloco-campo">
        <label>DomÃ­nio do cliente</label>
        <input id="dominioCliente" placeholder="Ex: suporteera.sobreip.com.br">
        <div id="regraDominio"></div>
      </div>

      <div class="bloco-campo">
        <label>CNPJ</label>
        <input id="cnpjCliente" placeholder="Ex: 12.345.678/0001-99">
        <div id="regraCNPJ"></div>
      </div>

    </div>
  </section>

  <!-- ================= VOZ / PBX ================= -->
  <section id="voz-area" style="display:none">

    <!-- UsuÃ¡rios Web -->
    <section class="card">
      <h2>UsuÃ¡rios Web</h2>
      <div class="acoes-card">
        <button class="btn-add" onclick="adicionarCampo('usuario_web')">+</button>
        <button class="btn-import" onclick="acionarImportacao('usuario_web')">ðŸ“¥ Importar</button>
        <button class="btn-import" onclick="baixarTemplateUsuarios()">ðŸ“¥ Baixar template CSV</button>
        <input type="file" id="importUsuarios" hidden>
      </div>
      <div id="listaUsuariosWeb"></div>
    </section>

    <!-- Ramais -->
    <section class="card">
      <h2>Ramais (Range)</h2>

      <div class="acoes-card">
        <input id="ramalInicio" placeholder="Ramal inicial (ex: 1000)">
        <input id="ramalFim" placeholder="Ramal final (ex: 1020)">
        <button class="btn-add" onclick="criarRangeRamais()">Criar range</button>
      </div>

      <div class="acoes-card">
        <button class="btn-add" onclick="adicionarCampo('ring')">+</button>
        <button class="btn-import" onclick="acionarImportacao('ring')">ðŸ“¥ Importar</button>
        <button class="btn-import" onclick="baixarTemplateRamais()">ðŸ“¥ Baixar template CSV</button>
        <input type="file" id="importRamais" hidden>
      </div>

      <div id="listaRings"></div>
    </section>

    <!-- Agentes -->
    <section class="card">
      <h2>Agentes</h2>
      <div id="listaAgentes"></div>
      <button class="btn-add" onclick="adicionarCampo('agente')">
        ðŸ”„ Atualizar agentes
      </button>
    </section>

    <!-- Entradas -->
    <section class="card">
      <h2>NÃºmeros de Entrada</h2>
      <div id="listaEntradas"></div>
      <button class="btn-add" onclick="adicionarCampo('entrada')">+</button>
    </section>

    <!-- Grupo Ring -->
    <section class="card">
      <h2>Grupo de Ring</h2>
      <div id="listaGrupoRing"></div>
      <button class="btn-add" onclick="adicionarCampo('grupo_ring')">+</button>
    </section>

    <!-- Filas -->
    <section class="card">
      <h2>Filas</h2>
      <div id="listaFilas"></div>
      <button class="btn-add" onclick="adicionarCampo('fila')">+</button>
    </section>

    <!-- Regras de Tempo -->
    <section class="card">
      <h2>Regras de Tempo</h2>
      <button class="btn-add" onclick="adicionarRegraTempo()">+ Nova regra</button>
      <div id="listaRegrasTempo"></div>
    </section>

    <!-- URA -->
    <section class="card">
      <h2>URAs</h2>
      <div id="listaURAs"></div>
      <button class="btn-add" onclick="adicionarCampo('ura')">+</button>
    </section>

    <!-- Pesquisa de SatisfaÃ§Ã£o -->
    <section class="card">
      <h2>Pesquisa de SatisfaÃ§Ã£o</h2>
      <button class="btn-add" onclick="togglePesquisaSatisfacao()">+</button>

      <div id="pesquisaSatisfacaoConteudo" style="display:none">
        <div class="campo-descricao">
          <input id="pesquisaNome" placeholder="Ex: Pesquisa de Atendimento TelefÃ´nico">
          <textarea id="pesquisaAudioIntro"
            placeholder="Ex: Sua opiniÃ£o Ã© muito importante para nÃ³s."></textarea>
          <textarea id="pesquisaPergunta"
            placeholder="Ex: De 0 a 5, como vocÃª avalia nosso atendimento?"></textarea>

          <div id="listaRespostasPesquisa"></div>

          <button class="btn-add" onclick="adicionarRespostaPesquisa()">+ Adicionar resposta</button>

          <p style="opacity:.7;font-size:13px">
            Exemplo: 0-PÃ©ssimo | 1-Ruim | 2-Regular | 3-Bom | 4-Muito Bom | 5-Excelente
          </p>

          <textarea id="pesquisaAudioFim"
            placeholder="Ex: Obrigado por participar da nossa pesquisa."></textarea>
        </div>
      </div>
    </section>

    <!-- Pausas -->
    <section class="card">
      <h2>Pausas do Call Center</h2>
      <button class="btn-add" onclick="togglePausas()">+</button>

      <div id="pausasConteudo" style="display:none">
        <div class="campo-descricao">
          <input id="nomeGrupoPausas" placeholder="Ex: Pausas Operacionais">
          <div id="listaPausas"></div>
          <button class="btn-add" onclick="adicionarPausa()">+ Adicionar pausa</button>
        </div>
      </div>
    </section>

  </section>

  <!-- ================= CHAT ================= -->
  <section id="chat-area" style="display:none">

    <section id="modulochat" style="display:block">

      <!-- ConfiguraÃ§Ã£o -->
      <section class="card">
        <h2>ConfiguraÃ§Ã£o de Chat</h2>

        <div class="chat-section">
          <h3>Tipo de IntegraÃ§Ã£o</h3>
          <div class="chat-grid">
            <div class="chat-card tipo" data-tipo="api"
              onclick="selecionarTipoChat(this,'api')">
              <img src="./assets/APIS.png">
              <h4>API Oficial</h4>
            </div>

            <div class="chat-card tipo" data-tipo="qr"
              onclick="selecionarTipoChat(this,'qr')">
              <img src="./assets/qrcode.png">
              <h4>QR Code</h4>
            </div>
          </div>
        </div>

        <div id="api-oficial" class="chat-section" style="display:none">
          <h3>Fornecedor</h3>
          <div class="chat-grid">
            <div class="chat-card" data-api="meta"
              onclick="selecionarApi(this,'meta')">
              <img src="./assets/Meta.png"><h4>Meta</h4>
            </div>
            <div class="chat-card" data-api="360"
              onclick="selecionarApi(this,'360')">
              <img src="./assets/360.png"><h4>360</h4>
            </div>
            <div class="chat-card" data-api="gupshup"
              onclick="selecionarApi(this,'gupshup')">
              <img src="./assets/gupshup.png"><h4>Gupshup</h4>
            </div>
          </div>
        </div>

        <div id="bloco-conta-api" class="chat-section" style="display:none">
          <h3>Conta</h3>
          <div class="chat-grid">
            <div class="chat-card" data-conta="cliente"
              onclick="selecionarConta(this,'cliente')">Cliente</div>
            <div class="chat-card" data-conta="era"
              onclick="selecionarConta(this,'era')">ERA</div>
          </div>
        </div>

        <div id="chat-canais" class="chat-section" style="display:none">
          <h3>Canais</h3>
          <div class="chat-grid">
            <div class="chat-card" data-canal="whatsapp" onclick="toggleCanal(this)">
              <img src="./assets/whats.png"><h4>WhatsApp</h4>
            </div>
            <div class="chat-card" data-canal="instagram" onclick="toggleCanal(this)">
              <img src="./assets/instagram.png"><h4>Instagram</h4>
            </div>
            <div class="chat-card" data-canal="messenger" onclick="toggleCanal(this)">
              <img src="./assets/messenger.png"><h4>Messenger</h4>
            </div>
          </div>
        </div>

        <div id="chat-qr" class="chat-section" style="display:none">
          <h3>NÃºmero WhatsApp</h3>
          <input placeholder="Ex: 5511999999999">
        </div>

      </section>
    </section>
  </section>

  <!-- ================= RESULTADO ================= -->
  <section class="card">
    <h2>Salvar configuraÃ§Ã£o</h2>
    <button class="btn-explorar" onclick="salvarConfiguracao()">Salvar</button>
    <pre id="resultado"></pre>
  </section>

</main>

<div id="toastGlobal" class="toast">
  <span id="toastMessage"></span>
</div>

<script src="./app.js"></script>
<script src="./intro.js"></script>
<script src="./chat.js"></script>

</body>
</html>
